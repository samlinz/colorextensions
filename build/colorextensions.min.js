/*! colorextensions 1.0.0, built on Fri Sep 13 2019 15:06:09 GMT+0300 (Eastern European Summer Time) */!function(r){var t={};function n(o){if(t[o])return t[o].exports;var e=t[o]={i:o,l:!1,exports:{}};return r[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=r,n.c=t,n.d=function(r,t,o){n.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:o})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,t){if(1&t&&(r=n(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var e in r)n.d(o,e,function(t){return r[t]}.bind(null,e));return o},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},n.p="",n(n.s=0)}([function(r,t,n){"use strict";n.r(t);var o={Object:"object",HexShort:"hex_short",HexLong:"hex_long",RGB:"rgb"},e=["r","g","b"],i=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;function u(r){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function l(r){var t,n=function(r){return 3===r.length?o.HexShort:6===r.length?o.HexLong:void 0};if("object"===u(r)){if(e.every((function(t){return t in r})))return o.Object;throw Error("Value was object but was missing required properties")}if("string"!=typeof r)throw Error("Value was not string");if(r.startsWith("#")){var l=r.substr(1);if(3!==(t=l).length&&6!==t.length)throw Error("Value started with hash but had invalid number of color values");var a=n(l);if(a)return a}if(r.startsWith("rgb")){if(!i.test(r))throw Error("Value started with rgb but had invalid form");return o.RGB}var c=n(r);if(c)return c;throw Error("Couldn't determine the color type of the value")}function a(r){if("string"!=typeof r)throw Error("".concat(r," is not string"));var t=r.slice();"#"===t[0]&&(t=t.substr(1));var n=t.length,o=null;if(3===n)o=!0;else{if(6!==n)throw Error("Invalid length for hex string ".concat(n));o=!1}for(var e={r:null,g:null,b:null},i=o?1:2,u=0,l=Object.keys(e);u<l.length;u++){var a=l[u],c=t.substr(0,i);t=t.substr(i),1===c.length&&(c=c.repeat(2));var f=parseInt(c,16);if(Number.isNaN(f))throw Error("Failed to convert string ".concat(c," to integer"));e[a]=f}return e}function c(r,t){var n,o=t&&t.shortForm,i=!t||!t.prefix||t.prefix,u=i?"#":"",l=!0,a=!1,c=void 0;try{for(var f,s=e[Symbol.iterator]();!(l=(f=s.next()).done);l=!0){var h=+r[f.value];if(!((n=h)>=0&&n<=255))throw Error("Color is not valid rgb ".concat(h));var b=h.toString(16);1===b.length&&(b="0".concat(b)),u+=b}}catch(r){a=!0,c=r}finally{try{l||null==s.return||s.return()}finally{if(a)throw c}}if(o){for(var v=i?u.substr(1):u.slice(),g=i?"#":"",p=0;p<3;p++){if(v[2*p]!==v[2*p+1]){g=null;break}g+=v[2*p]}u=g||u}return u}function f(r){var t=i.exec(r);if(!t)throw Error("Could not parse rgb ".concat(r));if(4!==t.length)throw Error("Invalid number of matched groups");return{r:t[1],g:t[2],b:t[3]}}function s(r,t){var n=t&&t.alpha||null;return function(r){if(e.some((function(t){return!(t in r)})))throw Error("Object ".concat(JSON.stringify(r)," does not include required properties"))}(r),"".concat(null!==n?"rgba":"rgb","(").concat(r.r,",").concat(r.g,",").concat(r.b).concat(n?",".concat(n):"",")")}function h(r,t){return s(a(r),t)}function b(r,t){return c(f(r),t)}function v(r,t,n){var e=l(r);if(e.startsWith("hex"))return t===o.RGB?h(r,n):t===o.Object?a(r):c(a(r),{shortForm:t===o.HexShort});if(e===o.RGB)return t.startsWith("hex")?b(r,{shortForm:t===o.HexShort}):t===o.Object?f(r):s(f(r),n);if(e===o.Object)return t.startsWith("hex")?c(r,n):t===o.RGB?s(r):r;throw Error("Invalid type for the input value")}function g(r,t,n){return(g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}()?Reflect.construct:function(r,t,n){var o=[null];o.push.apply(o,t);var e=new(Function.bind.apply(r,o));return n&&p(e,n.prototype),e}).apply(null,arguments)}function p(r,t){return(p=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(r,t)}function y(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if(!(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)))return;var n=[],o=!0,e=!1,i=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(r){e=!0,i=r}finally{try{o||null==l.return||l.return()}finally{if(e)throw i}}return n}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function w(r,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function m(r,t,n){return t&&w(r.prototype,t),n&&w(r,n),r}var x=function(){function r(t){d(this,r),this.fractionsAndColors=[];for(var n=null,e=null,i=0,u=Object.entries(t);i<u.length;i++){var l=y(u[i],2),a=+(p=l[0]),c=v(l[1],o.Object);this.fractionsAndColors.push([a,c])}this.fractionsAndColors.sort((function(r,t){return r[0]-t[0]}));var f=!0,s=!1,h=void 0;try{for(var b,g=this.fractionsAndColors[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var p=y(b.value,1)[0];null===n&&(n=p),e=p}}catch(r){s=!0,h=r}finally{try{f||null==g.return||g.return()}finally{if(s)throw h}}if(0!==n)throw Error("Invalid colormap; should begin from 0, not ".concat(n));if(1!==e)throw Error("Invalid colormap; should end in 1, not ".concat(e))}return m(r,[{key:"getColorsAndFraction",value:function(r){for(var t=0;t<this.fractionsAndColors.length;t++){var n=y(this.fractionsAndColors[t],2),o=n[0],e=n[1],i=y(this.fractionsAndColors[t+1],2),u=i[0],l=i[1];if(r>=o&&r<=u)return[(r-o)/(u-o),e,l]}}}]),r}(),j=function(){function r(){d(this,r),this.colorMap=null;var t=null;if(2===arguments.length)this.colorMap=new x({0:arguments.length<=0?void 0:arguments[0],1:arguments.length<=1?void 0:arguments[1]}),t=arguments.length<=0?void 0:arguments[0];else{if(1!==arguments.length)throw Error("Invalid arguments");this.colorMap=new x(arguments.length<=0?void 0:arguments[0]),t=Object.values(arguments.length<=0?void 0:arguments[0])[0]}this.type=l(t)}return m(r,[{key:"getRange",value:function(r,t){return{r:+t.r-+r.r,g:+t.g-+r.g,b:+t.b-+r.b}}},{key:"getColor",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof r)throw Error("Invalid fraction ".concat(r));if(r<0||r>1)throw Error("Fraction out of range ".concat(r));var n=this.colorMap.getColorsAndFraction(r),o=y(n,3),e=o[0],i=o[1],u=o[2],l=this.getRange(i,u),a=l.r,c=l.g,f=l.b,s=+i.r+e*a|0,h=+i.g+e*c|0,b=+i.b+e*f|0,g={r:s,g:h,b:b};return v(g,t||this.type)}}],[{key:"interpolateColor",value:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),e=1;e<n;e++)o[e-1]=arguments[e];var i=g(r,o);return i.getColor(t)}},{key:"generateColors",value:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),e=1;e<n;e++)o[e-1]=arguments[e];for(var i=g(r,o),u=1/t,l=[],a=0;a<=1;a+=u)l.push(i.getColor(a));return l}}]),r}();window.ColorExtensions={COLOR_TYPES:o,RGB_PROPERTIES:e,hexToObj:a,objToHex:c,objToRgb:s,hexToRgb:h,rgbToHex:b,convertTo:v,ColorMap:x,ColorInterpolator:j}}]);